# CloudWatch
1. [概要](#anchor1)
2. [ダッシュボードの作成](#anchor2)
3. [ウィジェットの作成](#anchor3)
4. [アラームの作成](#anchor4)

<a id="anchor1"></a>

## 1. 概要
 - AWS 内部のリソースを監視する専用のマネージドサービスです。
 - 基本的な機能は **無料** で利用できます。
 - CloudWatch 自身を監視する必要はありません。

   |主な機能|説明|
   |---|---|
   |収集|継続的な情報収集が可能<br>リソースに関係するログをリアルタイムに収集して記録する|
   |モニタリング|集中管理が可能<br>収集した情報をグラフ化する|
   |アクション|アラーム機能を提供<br>SNS , メール , API など、様々な手段で利用者に通知する|
   |分析|収集したログから、様々な方法で分析する手段を提供する|

### 監視の手順
1. ダッシュボードの作成
2. ダッシュボードにウィジェットを作成
3. アラームの作成

   |用語|説明|
   |---|---|
   |ダッシュボード ( Dashboard )|監視するリソースを一か所にまとめるための場所|
   |ウィジェット ( Widget )|ダッシュボードに表示する方法や内容・レイアウトを設定する|
   |アラーム ( Alarm )|メトリクス , 条件 , 通知の組み合わせを指定する|
   |メトリクス ( Metrics )|収集する情報|

<a id="anchor2"></a>

## 2. ダッシュボードの作成
1. IAM ユーザーで ` AWS Management Console ` にログインします。
2. 画面上の ` Services ` から ` CloudWatch ` を選択します。
3. ` CloudWatch Dashboard ` から ` Dashboards ` > ` Create dashboard ` ボタンをクリックします。
4. ダッシュボードの名前を入力して、` Create dashboard ` ボタンをクリックします。
5. ` widget ` の選択項目が表示されますが、` Cancel ` ボタンをクリックして作業を終了します。<br>空のダッシュボードが作成されます。

<a id="anchor3"></a>

## 3. ウィジェットの作成
1. ` CloudWatch Dashboard ` から ` Dashboards ` > ` 作成したダッシュボード名 ` を選択します。
2. ` Add widget ` ボタンをクリックして、設定するウィジェットタイプを選択します。<br>選択したら、` Next ` ボタンをクリックします。
3. ウィジェットの詳細を設定して、` Create widget ` ボタンをクリックして作成終了です。<br>選択した項目によって設定項目が異なります。

### EC2 の CPU 使用率を表示
1. ` CloudWatch Dashboard ` から ` Dashboards ` > ` 作成したダッシュボード名 ` を選択します。
2. ` Add widget ` ボタンをクリックして、` Line ` タイプを選択します。<br>選択したら、` Next ` ボタンをクリックします。
3. データソースの指定画面で、` Metrics ` を選択します。<br>選択したら、` Configure ` ボタンをクリックします。
4. ` Add Metric graph ` 画面で、` Untitle graph ` の編集マークをクリックしてウィジェットのタイトルを設定します。
5. ` All metrics ` タブから ` EC2 ` > ` Per-Instance Metrics ` を選択します。
6. 監視したい EC2 インスタンス名の ` CPUUtilization ` にチェックを入れて、` Create widget ` ボタンをクリックして作成終了です。

<a id="anchor4"></a>

## 4. アラームの作成
1. ` CloudWatch Dashboard ` から ` ▼ Alarms ` > ` All alarms ` を選択します。
2. ` Create alarm ` ボタンをクリックして、` Select metric ` から設定するメトリクスタイプを選択します。<br>選択したら、` Select metric ` ボタンをクリックします。
3. 条件を指定して、` Next ` ボタンをクリックします。
4. 通知の設定をして、` Next ` ボタンをクリックします。
5. 作成するアラームの名前を設定して、` Next ` ボタンをクリックします。
6. 最後に作成するアラームを確認して、` Create alarm ` ボタンをクリックして、作成終了です。
