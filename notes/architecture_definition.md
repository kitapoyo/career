# 要件定義 ( Requirements Definition )
1. [要件定義 とは](#anchor1)
   - プロジェクトフロー
   - 要件定義のフェーズ
   - 要件定義終了時点での到達目標
2. [業務要件定義](#anchor2)
   - 現行業務の調査
   - 業務フローの分析
   - ビジネス・ルール分析
   - 入出力情報の分析
   - 入出力情報の分析
   - 業務要件定義書の作成
3. [機能要件](#anchor3)
   - システム機能
   - 画面
   - 帳票
   - データ
   - 外部接続
   - 機能要件定義書の作成
4. [非機能委要件](#anchor4)
   - 非機能要求グレード
   - 非機能要件定義の進め方
   - 非機能要求の分類
   - 非機能要件定義書の作成
5. [要件定義の合意と承認](#anchor5)

<a id="anchor1"></a>

## 1. 要件定義 とは
 - 事業目標達成のため、**情報システムに求められるもの** を定め、その範囲を明らかにすること。
 - 要望とは、個人的な思想もあるため **取り組む価値があるのか吟味する** こと。
 - 要求とは、**必要なある程度強い依頼** のこと。
 - 要求を吟味して **本当に必要なものを厳選** したものが要件。**合理的な理由** が必要。
 - ユーザーの気づかない **暗黙の要求** を掘り起こす。

### プロジェクトフロー
1. システム化計画
2. 業務要件定義
3. システム要件定義・機能要件定義・非機能要件定義
4. 基本設計・外部設計

### 要件定義のフェーズ
 - フェーズとは、**ひとまとまりの作業** または、**それらの作業を行う期間** を意味する。

#### 1. 下調べ
 - システム化企画を読み、ユーザーの要求や特徴などに理解を深め協働に備える。
 - **相手の特徴を理解し、先手必勝の作戦を立てる。**
 - **ユーザーの事業目的や目標を１枚の図で表現する戦略マップを使用する。**
 - **エコシステムマップでシステムの相互作用を捉える。**
 - **コンテキスト図 ( DFD ) でデータの在り処と流れを捉える。**

#### 2. 段取り
 - やるべき作業をリストアップし、ユーザーとの協働がスムーズになるよう段取りする。
 - **要件定義中の衝突時に備えて ( 優先順位, 作業開始・終了判定, 合意・承認 ) ルールを決める。**
 - **優先順位付けの判断基準として MoSCoW ( Must, Should, Could, Won't ) を使用する。**

#### 3. 管理と維持
 - 本番稼働後も、改変や将来の変化に備えて要求をメンテナンスする。

#### 4. 分析
 - ユーザーやシステムの要求を引き出し、構造的に整理する。
 - **言葉の裏の本音を探る。**

#### 5. 承認と合意
 - 打合せ結果に対してユーザーとベンダーの合意を確認し、最終的に意思決定者の承認を得る。
 - **概算費用見積もりの根拠になるので、段階的に定義内容の合意を積み上げる。**

#### 6. 定義
 - 要求について事業目標の達成に寄与するか判断し、要件として網羅的に定義する。

### 要件定義終了時点での到達目標
 - **システム規模が見積れる具体性を得ること。**
 - **設計工程の作業が進行できるような詳細な定義をすること。**

<a id="anchor2"></a>

## 2. 業務要件定義
 - 事業の目標を実現するために、どのような業務が必要か、分析し可視化する。
 - 以下の３大要素から組織に必要な仕組みを明らかにする。
1. 業務フロー
    - 業務の組み立て ( 処理の順番 ) を整理
2. ビジネス・ルール
    - 業務に適する枠組み ( 規則や基準 ) を整理
3. 入出力情報
    - インプット・アウトプットの情報の性質や種類を整理

### 現行業務の調査
 - 現状の業務の実態を調査し、**理想と現実のギャップ** を明らかにする。
 - 繁忙期など、**一番大変な場面に立ち会うべき。**
 - **状況下の制約や習慣、決まり事を聞き出す。**
 - 組織に不足する仕組みやスキルを当事者に具体的に表してもらう。

### 業務フローの分析
 - 業務をどのように組み立てるのか、ユーザーにもわかりやすいようにフロー図を用いて分析する。
 - 業務全体を概要から詳細へとトップダウンで洗い出す。
 - 例外が発生しそうな箇所をユーザーと認識を合わせる。

### ビジネス・ルール分析
 - BABOK ( Business Analysis Body Knowledge ) で、以下の２つのタイプに分けて整理する。
1. 個人の行動についてのルール
2. 組織内の定義づけについてのルール
    - ビジネスルールは、事業や環境の変化で変更が発生するため、柔軟に管理する。

### 入出力情報の分析
 - 新業務の可視化が目的なので、**ER 図** や **UML 図** を使用する。

### 業務要件定義書の作成
 - 業務の組み立て ( フロー ), 統制 ( ルール ), 入出力情報を一覧表にまとめる。
 - 体系化された表を作成し、階層ごとに網羅する。
 - チェックリストを作成し、不整合や矛盾点がないかチェックする。
 - 要件と事業目標の結びつきを確認するための妥当性確認を **ユーザー主体** で行う。

<a id="anchor3"></a>

## **3. 機能要件**
 - 新しい業務を実現するために、新システムの機能を具体化して細分化する。
 - 新しいシステムのあるべき姿をイメージして、以下の５つのタイプに分けて整理する。

### 1. システム機能
 - 業務要件で定義した**業務一覧**の中から情報システムで実現する**処理**を抽出する。
 - **通常処理, 例外処理, 定期処理, 随時処理, 月次処理, 日時処理** などに分類する。
 - **それぞれのシステム機能が、どの事業目標の実現につながるのかを確認する。**

#### オンライン処理
 - 利用者が情報システムに対して１件ずつ処理を依頼すること。

#### バッチ処理
 - 複数件をまとめて一括して処理を依頼すること。

### 2. 画面
 - 業務フローを参照し、画面が使用される場所を明らかにする。
    - **ログイン画面 > 管理画面 > 詳細画面**
 - **画面遷移図を利用して処理に流れや画面の使われ方をユーザーと共有する。**

### 3. 帳票
 - ユーザーにインタビューして、帳票の利用目的やシーンを正確に把握する。
 - 出力量やスピードなども把握する。

### 4. データ
 - 主要なデータ項目を一覧表にする。
    - 画面から入力される情報をデータベースにどのように記録するか。
    - データベースからどの項目を取り出して帳票に出力するか。
 - データをまとめる際に、それぞれのデータを **ライフサイクル** の視点で整理する。
    - 作成, 参照, 更新, 削除 ( C R U D 図 )
 - データベースのテーブルごとに主要項目を一覧にまとめ、設計に反映する。
    - 主キー, 外部キー
    - 概念 ER 図, 論理 ER 図

### 5. 外部接続
 - 外部のサービスとの連帯を **外部接続** や **外部インターフェース** と呼ぶ。
 - 外部との間でやり取りする送受信情報は **CRUD 図** などをヒントに分析する。

### 機能要件定義書の作成
 - システムの構成要素をそれぞれ一覧表に整理し、洗い出しの漏れを防ぐ。
 - システムの構成要素の規模や特徴から新システムの規模を把握する。
 - 分析中にユーザーと取り決めたことや、設計者に引き継ぐことを文章化する。

<a id="anchor4"></a>

## **4. 非機能要件**
 - システムに求められる**機能**が提供する**サービスのレベルや品質を定める。**
    - 機能：**入力後、送信ボタンをクリックして登録を行う。**
    - 非機能：**クリック後、何秒以内に登録が必要か ?**
 - サービスのレベルや品質は、目に見えず、言葉で表現するのが難しいので実現可能か判断が困難。

### 非機能要求グレード
 - [IPA 公式サイト](https://www.ipa.go.jp/sec/softwareengineering/std/ent03-b.html)
 - IPA が **非機能要求の見える化と、確認の手段を提供する** に対処するための情報サイト。

### 非機能要件定義の進め方
1. システム化案件のモデルを判断する
2. 検討すべき項目を抽出する
3. ２の項目に対して、ユーザーとベンダーが適切なレベルで話し合う
4. ３の項目での決定事項を設計フェーズに引き継ぐ

### 非機能要求の分類
 - 以下の６種類に分類し、それぞれ求められることを分析する。

#### 1. 可用性
 - **システムサービスを継続的に利用可能とするための要求。**
    - **稼働時間, 停止予定, 運用スケジュール, 障害, 災害時** など
 - 可用性の向上はコストが高くなるので、要求とのバランスを意識する。
    - **携帯電話が故障したときのために、３台契約する** など本当に必要かを検討する。

#### 2. 性能・拡張性
 - **システムの性能、将来のシステム拡張に関する要求。**
    - **ピーク時の利用人数や通信数は？** などの業務量 ( ピーク時, 通常時, 縮退時 )
    - システムリソースの拡張 ( スケールアップ, スケールアウト, オンプレからクラウドへ )

#### 3. 運用・保守性
 - **システムの運用と保守のサービスに関する要求。**
 - 通常運用
    - 業務時間, 業務時間外, 運用の監視対象, 監視間隔
 - 保守運用
    - 計画停止, 保守作業の自動化, バージョンアップ, パッチ対応
 - 運用環境
    - 開発環境, テスト環境, 運用マニュアル, リモート操作, 外部接続
 - サポート体制
    - ライフサイクルの期限, 保守契約
 - 運用管理方針
    - 内部統制への考え方, サポートデスクの有無

#### 4. 移行性
 - **現行システム資産の移行に関する要求。**
 - 移行時期
    - システム切り替えの期間, 並行稼働の有無
 - 移行方式
    - 一斉移行, 多段階移行, 共存稼働の期間や範囲
 - 移行対象
    - 機器やデータの一括入れ替えか部分入れ替え, 新旧の互換性, 移行ツールの有無
 - 移行計画
    - 作業分担, 外部連帯のリハーサル, 環境, 回数, 切り戻しプラン

#### 5. セキュリティ
 - **情報システムの安全性の確保に関する要求。**
    - システム停止, 性能低下, 情報漏洩
 - セキュリティリスク分性
    - リスク分析の範囲
 - セキュリティ診断
    - ネットワーク診断, Web 診断
 - アクセス・利用制限
    - 管理の方針
 - ネットワーク対策
    - 通信制御, 不正通信の検知範囲, 輻輳対策
 - データの秘匿
    - データの暗号化
 - 不正追跡・監視
    - ログの取得, 保管期間, 監視対象
 - マルウェア対策
    - 実施の範囲
 - Web 対策
    - WAF , セキュアコーディング

#### 6. システム環境・エコロジー
 - **システムをどこに配置するかなどの、環境への配慮の要求。**
    - 複数言語対応, 環境保護, 電波干渉, 耐震, 湿度, 空調性能, 低騒音, CO2 排出量

### 非機能要件定義書の作成
 - 確定済の内容だけでなく、検討中や未検討の事項についてもその趣旨を記す。

<a id="anchor5"></a>

## 5. 要件定義の合意と承認
 - 要件定義終了時点で、**組織の最高責任者が、それにかかる投資の合理性を判断する。**
 - 承認とは、**組織の最高責任者による総合的な判断**のこと。
 - 合意とは、**関係者による直接的で実質的な納得の記録**のこと。
