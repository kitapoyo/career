# ハードリンクとシンボリックリンク
1. [概要](#anchor1)
2. [リンクの作成 ( ln )](#anchor2)
   - ハードリンクの作成
   - シンボリックリンクの作成
3. [シンボリックリンク先の確認 ( readlink )](#anchor3)

<a id="anchor1"></a>

## 1. 概要
 - ファイル名と実体との対応付けを **リンク** といいます。
 - ファイルやディレクトリに別名を付け、異なる名前で同じデータにアクセスできる仕組みが２つあります。
1. ハードリンク
2. シンボリックリンク

### i ノード とは
 - ファイルを新規に作成すると、ファイルシステム上で重複しない **i ノード** と呼ばれる番号が割り当てられます。<br>ファイルのアクセス権や保存先( 実際にファイルが保存されている場所 ) などの情報が格納されています。
 - **i ノード** とファイル名を対応付けしているのがディレクトリです。

    ```:コマンド
    ls -i
    ```

### ハードリンク とは
 - ファイルの実体に対して、複数のファイル名があってもファイルの内容は同一であることです。

    ```:表示例
    263023 -rw-rw-r-- 2 hoge hoge 0 Jul 18 00:25 hardlink
    263023 -rw-rw-r-- 2 hoge hoge 0 Jul 18 00:25 link.txt
    ```
    - パーミッションの右の数値 ( 上記例の 2 ) は、ハードリンクの数です。

### シンボリックリンク とは
 - リンクが指し示すファイルのポイントです。**Windows** のショートカットです。

    ```:表示例
    263023 -rw-rw-r-- 1 hoge hoge 6 Jul 18 00:26 link.txt
    263022 lrwxrwxrwx 1 hoge hoge 8 Jul 18 00:39 symlink -> link.txt
    ```

#### シンボリックリンクの注意事項
1. シンボリックリンク先のファイルが先に削除された場合<br>リンク先を見つけられずにエラーになります。
2. シンボリックリンクを ` cp コマンド ` でコピーする場合<br>リンク先のファイルがコピーされます。<br>シンボリックリンクそのものをコピーする場合は **-d** オプションを指定します。

<a id="anchor2"></a>

## 2. リンクの作成 ( ln )

### ハードリンクの作成
 - 異なるファイルシステム上には作成できません。**i ノード** が異なるためです。<br>ディレクトリのハードリンクは作成できません。

    ```:コマンド
    ln < オリジナルファイル > < ハードリンクファイル >
    ```

### シンボリックリンクの作成
 - 異なるファイルシステムで作成できます。<br>ディレクトリのシンボリックリンクを作成できます。

    ```:コマンド
    ln -s < オリジナルファイル > < シンボリックリンクファイル >
    ```

<a id="anchor3"></a>

## 3. シンボリックリンク先の確認 ( readlink )
 - リンクが多段の場合は **-f** オプションを指定することで最後まで追跡できます。

    ```:コマンド
    readlink [ -f ] < シンボリックファイル >
    ```
