# マウントとアンマウント
1. [マウント とは](#anchor1)
2. [マウント ( mount )](#anchor2)
3. [アンマウント ( umount )](#anchor3)
4. [自動マウント ( /etc/fstab )](#anchor4)

<a id="anchor1"></a>

## 1. マウント とは
 - ファイルシステムを結合することです。
 - 結合点となるディレクトリを **マウントポイント** と呼びます。

<a id="anchor2"></a>

## 2. マウント ( mount )
 - マウントには **mount** コマンドを実行します。

     ```:コマンド
     mount [ オプション] < デバイスファイル > <> マウントポイント >
     ```

 - マウント状況の表示

    ```:コマンド
    df -Th
    ```

### オプション

|オプション|説明|
|---|---|
|-a|**/etc/fstab** に記述しているすべてのファイルシステムをマウントします。|
|-r|読み取り専用でマウントします。|
|-w|読み書き可能でマウントします。|
|-t < タイプ >|ファイルシステムタイプを指定します。|
|-L < ラベル >|指定したラベルのパーティションをマウントします。|
|-U < UUID >|指定した UUID のパーティションをマウントします。|

<a id="anchor3"></a>

## 3. アンマウント ( umount )
 - マウントの解除には **umount** コマンドを実行します。
 - 以下の場合は、アンマウントできません。
1. マウント中のファイルシステム内のファイルにアクセスしているユーザーが存在する場合
2. マウント中のファイルシステム内のディレクトリをカレントディレクトリとしている場合

    ```:コマンド
    umount [ オプション] < デバイスファイル > < マウントポイント >
    ```

### オプション

|オプション|説明|
|---|---|
|-a|**/etc/fstab** に記述しているすべてのファイルシステムをアンマウントします。|

<a id="anchor4"></a>

## 4. 自動マウント
 - システム起動時に自動的にマウントしたい場合は、**/etc/fstab ファイル**に記述します。

 - ファイル書式

    ```:書式
    ⓵ ⓶ ③ ④ ⑤ ⑥
    ```

1. デバイスファイル名・UUID・ラベル
2. マウントポイント
3. ファイルシステムタイプ
4. マウントオプション ( たくさんあるので省略します )
5.  dump コマンド ( バックアップ ) の対象の有無 ( ０は対象外 )

 - **/etc/fstab** の記述例 ( デバイス名 )

    ```:書式
    /dev/sda /boot ext4 defaults 0 0
    ```

 - **/etc/fstab** の記述例 ( UUID )

    ```:書式
    /dev/disk/by-uuid/6abb4218-cf23-418e-9113-116804990d38 /boot ext4 defaults 0 0
    ```

6.  システム起動時の整合性チェックの有無 ( ０はチェックしない )

### UUID
 - デバイスファイル名は抜き差しで変更する場合があるため、UUID で指定する方をお勧めします。

    ```:コマンド
    blkid
    ```
