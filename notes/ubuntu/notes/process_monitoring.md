# プロセスの監視 ps コマンド
1. プロセスの情報 ( ps )
   - オプション
   - 出力フォーマット
   - システムで実行されているすべてのプロセスを表示する場合
   - apache2 という文字が含まれるプロセスを表示する場合
   - PID USER TIME COMMAND を出力する場合

## 1. プロセスの情報 ( ps )
 - プロセスの情報を表示します。
 - 特定のプロセス名のみを表示する場合は、**grep** と組み合わせると便利です。
 - 以下の３つのオプションがあり、` - ` の有無で動作が変わる点に注意してください。
1. ` - ` を使用しない BSD オプション
2. ` - ` を使用する UNIX オプション
3. ` -- ` を使用する GNU ロングオプション

### オプション

|オプション|説明|
|---|---|
|-A , -e|すべてのプロセスを表示します。|
|-a|制御端末のないプロセス以外のすべてのプロセスを表示します。|
|a|端末のすべてのプロセスを表示します。|
|e|コマンド名と環境変数も表示します。|
|h|ヘッダを表示しません。|
|r|実行中のプロセスのみを表示します。|
|x|端末制御のないプロセスも表示します。|
|u|実行ユーザー名なども表示します。|
|-l|詳細を表示します。|
|-C < コマンド名 >|指定したコマンドのプロセスを表示します。|
|-p < PID >|PID で指定したプロセスを表示します。|
|-u < ユーザー >|指定したユーザー ( 実効ユーザー ) のプロセスを表示します。UID でも指定できます。<br>実効ユーザーとは、そのユーザーのファイルアクセス権がプロセスに適用されるユーザーです。<br>実ユーザーとは、プロセスを生成した ( コマンドを実行した ) ユーザーです。<br>複数指定する場合は `, ` で区切って列挙します。|
|-U < ユーザー >|指定したユーザー ( 実ユーザー ) のプロセスを表示します。|
|-G < グループ >|指定したグループ ( 実グループ ) のプロセスを表示します。|
|-t < 端末名 >|指定した端末と関連付けられているプロセスを表示します。|
|-o < フォーマット >|出力方式を指定します。以下の出力フォーマット参照|

### 出力フォーマット

|-o フォーマット|ヘッダ表示|説明|
|----|----|----|
|pid , %p|PID|プロセス ID|
|ppid|PPID|親プロセスの ID|
|user , euser , %U|USER|実効ユーザー名|
|ruser , %U|RUSER|実ユーザー名|
|euid|EUID|実効ユーザー ID|
|comm , %c|COMMAND|コマンド名 ( 実行ファイル名 )|
|pcpu|%CPU|CPU 使用率|
|pmem|%MEM|メモリ使用率|
|vsz , %z|VSZ|仮想メモリの全サイズ ( k バイト単位 )|
|size|SZ|メモリ上のサイズ ( k バイト単位 )|
|rss|RSS|常駐セットの大きさ|
|tty , %t|TTY|制御端末|
|stat|STAT|プロセスの状態|
|start|START|プロセスの開始時間|
|time , %x|TIME|累計利用 CPU 時間|
|nice , %n|NI|ナイス値|
|priority|PRI|優先度|

### 3. システムで実行されているすべてのプロセスを表示する場合

 ```:コマンド
 ps aux
 ```

### 4. apache2 という文字が含まれるプロセスを表示する場合

 ```:コマンド
 ps aux | grep apache2
 ```

### 5. PID USER TIME COMMAND を出力する場合

 ```:コマンド
 ps ax -o pid,user,time,comm
 ```

 ```:表示例
 hoge@srv:~$ ps ax -o pid,user,time,comm
   PID USER         TIME COMMAND
     1 root     00:00:02 systemd
     2 root     00:00:00 kthreadd
     4 root     00:00:00 kworker/0:0H
     6 root     00:00:00 mm_percpu_wq
     7 root     00:00:00 ksoftirqd/0
 ```
