# パーミッション
1. [ファイルの所持者](#anchor1)
2. [アクセス権](#anchor2)
3. [デフォルトのアクセス権 ( umask )](#anchor3)
4. [アクセス権の変更 ( chmod )](#anchor4)
5. [所持者の変更 ( chown )](#anchor5)
6. [グループの変更 ( chgrp )](#anchor6)
7. [スティッキービット](#anchor7)

<a id="anchor1"></a>

## 1. ファイルの所持者
 - ファイルやディレクトリを作成すると、作成したユーザが所持者となります。
 - 作成したユーザーの所属するグループが所有グループとなります。
 - ユーザーが複数のグループに所属していた場合は、プライマリグループかアクティブなグループが設定されます。
 - Linux では以下の順で表示されます。

    ```:書式
    [ 所持者 ] [ 所有グループ ] [ その他ユーザー ]
    ```

<a id="anchor2"></a>

## 2. アクセス権
 - ファイルやディレクトリはアクセス権が必ず設定されます。
 - 実行ファイル ( プログラム ) を実行すると、プロセスの実行ユーザーはその実行ファイルの実行者になります。
1. **readable** ：読み取り可能 ( r )
2. **writable** ：書き込み可能 ( w )
3. **excutable** ：実行可能 ( x )

### ファイルのアクセス権

|アクセス権|説明|
|----|----|
|r|ファイルの内容を参照できる|
|w|ファイルの内容を変更できる|
|x|ファイルを実行できる|

### ディレリクトリのアクセス権

|アクセス権|説明|
|----|----|
|r|ディレクトリ内のファイル一覧を表示できる|
|w|ディレクトリ内でファイルの作成・削除ができる|
|x|ディレクトリ内のデータにアクセスできる|

<a id="anchor3"></a>

## 3. デフォルトのアクセス権 ( umask )
 - ファイルやディレクトリの作成した時に設定されるパーミッションは、４桁の数値である **umask 値** で決まります。
 - デフォルト値は **0002** です。<br>ディレクトリの場合は **777** , ファイルの場合は **666** から umask 値 を引いた値がパーミッションです。
 - **~/.profile** に umask コマンドを記述するのがお勧めです。

    ```:コマンド
    umask < 値 >
    ```

<a id="anchor4"></a>

## 4. アクセス権の変更 ( chmod )
 - アクセス権を変更できるのは、ファイルの所持者と **root ユーザー**のみです。
 - アクセス権は、記号でも数値でも設定できます。
 - **- R** オプションを指定すると、**ディレクトリ以下すべてのファイルに適用**されます。

    ```:コマンド
    sudo chmod [ -R ] < アクセス権 > < ファイル名やディレクトリ >
    ```

<a id="anchor5"></a>

## 5. 所持者の変更 ( chmod )
 - 基本的に変更できるのは **root ユーザー**のみです。

    ```:コマンド
    sudo chown [ -R ] < 所持者 > < ファイル名またはディレクトリ名 >
    ```

    - **- R** オプションを指定すると、ディレクトリ以下すべてのファイルに適用されます。

<a id="anchor6"></a>

## 6. グループの変更 ( chgrp )
 - 基本的に変更できるのは **root ユーザー**のみです。

    ```:コマンド
    sudo chgrp [ -R ] < グループ名 > < ファイル名またはディレクトリ名 >
    ```

    - **- R** オプションを指定すると、ディレクトリ以下すべてのファイルに適用されます。

<a id="anchor7"></a>

## 7. スティッキービット
 - 以下の特殊なパーミッションです。
1. SUID ( Set User ID )<br>実行ファイルのプロセス実行ユーザーが実行ファイルの所持者になります。<br>設定されたファイルは ` ls -l ` で表示した際に、所有者の実行権限が **S** と表示されます。
2. SGID ( Set Group ID )<br>実行ファイルの所有グループが実行ファイルのプロセス所有グループがになります。<br>ディレクトリに設定した場合は、ディレリクトリ内のファイルの所属グループが、ディレクトリ所有グループと同じになります。
 - 設定されたファイルは ` ls -l ` で表示した際に、所有グループの実行権限が **S** と表示されます。

### コマンド設定
 - sample ファイルに SUID を設定する場合

    ```:コマンド
    sudo chmod u+s sample
    ```

 - sample ファイルに SGID を設定する場合

    ```:コマンド
    sudo chmod g+s sample
    ```
