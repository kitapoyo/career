# LXC ( Linux Container )
1. [LXC とは](#anchor1)
   - 特徴
2. [インストール](#anchor2)
3. [コンテナ作成](#anchor3)
   - LXC ネットワーク
4. [コンテナの利用](#anchor4)
   - コンテナにログイン
   - コンテナの停止
   - コンテナの削除

<a id="anchor1"></a>

## 1. LXC とは
 - Docker と同様、Linux 上に独立したコンテナを構築する技術です。
 - コンテナ内でカーネル以外のシステムを動かします。
 - カーネルは共有します。

### 特徴
 - 仮想環境の中では最も軽量
 - コンテナイメージのサイズが小さい
 - コンテナには個別で IP アドレスを割り当て可能
 - x86_64 , i386 環境に対応
 - CPU の仮想化支援機能が無くても利用できる
 - Linux のみ対応

<a id="anchor2"></a>

## 2. インストール

 ```:コマンド
 sudo apt -y install lxc
 ```

<a id="anchor3"></a>

## 3. コンテナ作成
 - **lxc-create** コマンドを使用します。
 - コンテナの構成は **/var/lib/lxc/コンテナ名/config** ファイルで確認できます。

    ```:コマンド
    lxc-create -t download -n < コンテナ名 > --no-validate
    ```
    - **-n** ：コンテナ名を指定します。
    - **-t** ：テンプレート名 ( debian , ubuntu fedora ) または download を指定します。

### LXC ネットワーク
 - LXC を導入すると **lxcbr0** というネットワークインターフェースが追加されます。
 - このネットワークインターフェースをゲートウェイとして、コンテナのネットワークが構成されます。

<a id="anchor4"></a>

## 4. コンテナの利用
 - **lxc-start** コマンドを使用します。

    ```:コマンド
    lxc-start -n < コンテナ名 > -d
    ```

 - **STATE** が **RUNNING** となっていれば、コンテナは起動しています。

    ```:コマンド
    lxc-ls -f
    ```

 - より詳細な情報は ` lxc-info ` コマンドを使用します。

    ```:コマンド
    lxc-info -n コンテナ名
    ```

### コンテナにログイン
 - ` lxc-attach ` コマンドを使用します。プロンプトが **root** になれば成功です。

    ```:コマンド
    lxc-attach -n < コンテナ名 >
    ```

### コンテナの停止
 - ` lxc-stop ` コマンドを使用します。

    ```:コマンド
    lxc-stop -n < コンテナ名 >
    ```

### コンテナの削除
 - ` lxc-destroy ` コマンドを使用します。

    ```:コマンド
    lxc-destroy -n < コンテナ名 >
    ```
